<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
	<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
	integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
	crossorigin="anonymous">
</head>
<body>
    <h1 th:text="${topic.topicName}"></h1>
    <!-- <h2 th:text="${teacher.name}"></h2> -->

    <div th:each="post: ${posts}">
        <!-- LOGIC to display all topics -->
        <div>
			<h1>POST</h1>
            <ul>
                <li><a th:text="${post.postTitle}"></a></li>
				<li>Votes: <span th:text="${post.votes}"></span> </li>
			</ul>
			<!-- <p th:text="${post.votes}"></p> -->
			<a th:href="@{../../post/upvote/{postId}(postId=${post.postId})}" onmouseover="this.style.cursor='pointer'"> 
				<button type="button" onmouseover="this.style.cursor='pointer'"> Upvote </button>
			</a>
			<a th:href="@{../../post/downvote/{postId}(postId=${post.postId})}" onmouseover="this.style.cursor='pointer'"> 
				<button type="button" onmouseover="this.style.cursor='pointer'"> Downvote </button> 
			</a>
        </div>
    </div>

    <div class = "container">
		<div class = "row">
			<div class ="col-lg-6 col-md-6 col-sm-6 container justify-content-center card">
				<td>
					<span th:text="${check}">Login Unsucessfull,Try again</span>
				</td>
				<h1 class = "text-center"> Post Details </h1>
				<div class = "card-body">
					<form th:action="@{/post/addpost?topicId={topicId}(topicId=${topic.topicId})}" th:object = "${po}" method="POST">
						
                        <div class ="form-group">
							<label> Post Title </label>
							<input
							type = "text"
							name = "title"
							th:field = "*{postTitle}"
							class = "form-control"
							placeholder="Enter title" 
							/>
						</div>

                        <div class ="form-group">
							<label> Post Description </label>
							<input
							type = "text"
							name = "description"
							th:field = "*{postDescription}"
							class = "form-control"
							placeholder="Enter Description" 
							/>
						</div>

						

                        <div class = "box-footer">
							<button type="submit" class = "btn btn-primary">
								Submit
							</button>
						</div>
                    </form>
				
				</div>
			</div>
		</div>
	</div>

	<script>
		function bindUpvote() {
			const upv = document.getElementsByClassName('upv');
			const arrUpv = Array(upv);

			arrUpv.forEach(element => {
				const a = Array(...element)[0].getElementsByTagName('a');
				const b = Array(...element)[0].getElementsByTagName('button');

				a.
				console.log(a,b);
			});
			
		}
		
		bindUpvote();
	</script>
</body>    
</html>